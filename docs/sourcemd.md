# Volume Segmentation Tool with GUI

Paper is available at: [A generalist deep-learning volume segmentation tool for volume electron microscopy of biological samples](https://www.sciencedirect.com/science/article/pii/S1047847725000498)

Supporting Operating Systems includes: Windows and Linux.

## Download Link (latest release: 0.9.0): [Link](https://github.com/fgdfgfthgr-fox/Volume_Seg_Tool/releases/download/v0.9.0/VST.Release.v0.9.0.zip)

## About the Tool

Volume Segmentation Tool is a python based tool that utilizes deep learning to perform volumetric electron microscopy image segmentations, both semantic and instance segmentation.

Based on [Pytorch](https://pytorch.org/) backend. Includes a [Gradio](https://www.gradio.app/) based graphical user interface. 

The desired images are 8bit or 16bit grey scale 3D tif/hdf as commonly generated by electron microscopes. The desired labels are either binary mask where 0 is background and 1 is foreground (semantic), or each value represent a different object (instance).

This tool does __not__ support 2D image segmentation, nor colorful image segmentation. In which case you should consider [ilastik](https://www.ilastik.org/) 
or [Trainable Weka Segmentation](https://imagej.net/plugins/tws/) or [nnUNet](https://github.com/MIC-DKFZ/nnUNet).

## Advantages

- High efficiency
  - Custom implemented augmentations specialised in volumetric images
  - Process many depth slices all once, rather than slice by slice
  - Support fp16/bf16 training
  - Up to 20x speedup compare to nnUNet
- Versatile
  - Semantic Segmentation & Instance Segmentation
  - Isotropic & anisotropic images
  - Adaptive network type, size and depth
  - Support AMD GPU (only under Linux)
- Easy to use
  - One click installation script
  - Graphical User Interface
  - Visualisation tools for data augmentation and network activations
  - Visualise network output on the fly
  - TensorBoard Logging & Can export as Excel spreadsheet

## Limitations

- Does not support 2D images, nor images with colours (grey scale only)
- Since it's based on Deep Learning, the tool needs to be used with a discrete GPU
  - It's possible to run this tool without a discrete GPU, however it will run __extremely__ slowly
  - Recommended minimal GPU requirement: 4GB of Video Memory, made by Nvidia or AMD
- Since it's based on Deep Learning, the user has to create training samples to train the network before it could perform segmentation

## Installation

1. Install [Python 3.10](https://www.python.org/downloads/release/python-31010/) or newer Python version.
   - During the installation process, ensure that you select the option to add Python to the 'PATH' environment variable.
2. Install [Git](https://git-scm.com/).
   - If you are using Linux, it's highly likely you can skip this step.
3. Open a terminal and navigate to the desired installation directory.
4. Clone the repository by running the following command:
   ```shell
   git clone https://github.com/fgdfgfthgr-fox/Volume_Seg_Tool.git
   ```
5. Run the corresponding "install_dependencies" script for your system.
   - For Windows, it would be install_dependencies_Windows.bat

6. Wait for the script to finish, which could take a while depends on your network speed.

## Tutorials

Please see the [Wiki](https://github.com/fgdfgfthgr-fox/Volume_Seg_Tool/wiki/Quick-walkthrough-with-the-example-dataset).


## Credits

This tool was developed under the scholarship funding from [AgResearch](https://www.agresearch.co.nz/),
and was helped by the members of the [Bostina Lab](https://search.otago.ac.nz/s/search.html?collection=uoot-prod%7Esp-otago-search&profile=_default&query=bostina+lab) of the [University of Otago](https://www.otago.ac.nz/).
As well as Lech Szymanski from the school of computing.

The example dataset included in this repository was collected by [Vincent Casser](https://casser.io/connectomics/).

The [UroCell](https://github.com/MancaZerovnikMekuc/UroCell) Dataset was heavily used during the development of the tool.

Special thanks to YunBo Wang from [Xidian University](https://www.xidian.edu.cn/), who gave me exceptional helps at the early stage of development.
